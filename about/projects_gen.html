<html>

<head>
    <link href="widget.css" rel="stylesheet">

<body id="steamwidget">
    <noscript><h1>Turn on javascript to see this project</h1>
        <style>
            div#widget {
                display: none;
            }
        </style>
    </noscript>
    <div id="widget">
        <div id="header" class="header_container">
            <h1 class="main_text" style="max-width: 517px;">
                <a target="_blank">Download </a>
            </h1>
            <h1 class="tail">
                &nbsp;<a target="_blank"><em>on </em></a>
            </h1>
        </div>

        <div class="desc">
            <a target="_blank"><img width="100"
                    height="100" class="capsule"></a>
        </div>

        <div class="game_purchase_action">

            <div class="game_purchase_action_bg">
                <div class="game_purchase_price price">
                    Free </div>
                <div class="btn_addtocart">
                    <a class="btn_addtocart_content" target="_blank">Download</a>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    const urlParams = new URLSearchParams(window.location.search);
    var url = urlParams.get("url"),
    url_download = urlParams.get("url_download"),
    appname = urlParams.get("name"),
    platform = urlParams.get("plat"),
    desc = urlParams.get("desc"),
    plat_ico = urlParams.get("plat_ico"),
    ico = urlParams.get("ico");
    var main_text = document.getElementsByClassName('main_text')[0].children[0];
    main_text.setAttribute("href", url);
    main_text.innerText = 'Download ' + appname;
    switch(plat_ico) {
        case 'github':
        document.getElementById('widget').style = "background-image: url(https://icones.pro/wp-content/uploads/2021/06/icone-github-grise.png)";
        break;
        case 'steam':
        document.getElementById('widget').style = "background-image: url(https://store.cloudflare.steamstatic.com/public/images/v6/steam_ico.png)";
        main_text.innerText = 'Subscribe ' + appname;
        document.getElementsByClassName('btn_addtocart_content')[0].innerText = 'Subscribe';
    }
    var tail = document.getElementsByClassName('tail')[0].children[0];
    tail.setAttribute("href", url);
    tail.children[0].innerText = 'on ' + platform;
    document.getElementsByClassName('btn_addtocart_content')[0].setAttribute("href", url_download);
    var description = document.getElementsByClassName('desc')[0];
    description.children[0].setAttribute('href', url);
    description.children[0].children[0].setAttribute('src', ico);
    description.childNodes[2].nodeValue = desc;
</script>
</html>